---
date: 2026-01-08
user: MatchaKim
topic: DNS
---

## DNS가 뭐야?

우리가 www.naver.com을 입력했을때 112.xxx.xxx.xxx.xxx 형식의 컴퓨터 친화적인 주소로 변환해야하거든?

## DNS조회의 단계는 어떻게 이루어져?

사용자가 naver.com을 입력하면 인터넷으로 이동하고 DNS 확인자가 이를 수신해

그럼 확인자가 DNS 루트이름 서버를 찾고

루트 서버가 도메인 정보에대해 최상위 도메인의 주소로 확인자에 응답해

naver.com 으로 검색할경우 요청은 .com TLD를 가르켜

그럼 확인자가 .com TLD에 요청하는거야

바로 TLD서버가 도메인 이름 서버의 IP주소로 반환해줘 그럼 브라우저가 IP요청에 대한 주소를 반환하고 요청이 가능해지는거야

## DNS 확인자는 뭐야?

DNS 확인자는 보통 ISP(인터넷 서비스 제공업체)나 공용 DNS 서버(예: 구글의 8.8.8.8)에서 제공하는 서버야

이 확인자가 사용자 대신 DNS 조회를 수행하는거지

## 매번 이렇게 복잡하게 조회하는거야?

아니야! 매번 이렇게 하면 너무 느려지거든?

그래서 DNS 캐싱이라는게 있어

한번 조회한 도메인 정보를 일정 시간동안 저장해두는거야

그럼 다음에 같은 도메인을 요청할 때는 캐시에서 바로 가져와서 훨씬 빨라지는거지

## DNS 레코드 타입은 뭐가 있어?

주로 사용되는 레코드 타입들이 있어

> A 레코드:
> 도메인 이름을 IPv4 주소로 매핑하는거야
> 예: naver.com → 112.xxx.xxx.xxx

> AAAA 레코드:
> 도메인 이름을 IPv6 주소로 매핑하는거야
> IPv6 주소는 더 긴 형식이거든

> CNAME 레코드:
> 한 도메인을 다른 도메인으로 리다이렉트하는거야
> 예: www.naver.com → naver.com

> MX 레코드:
> 메일 서버의 주소를 지정하는거야
> 이메일을 보낼 때 어디로 보내야하는지 알려주는거지

> NS 레코드:
> 도메인에 대한 권한이 있는 네임서버를 지정하는거야

## DNS 서버는 어떤 종류가 있어?

주로 두 가지 종류가 있어

> 재귀적 DNS 서버 (Recursive DNS Server):
> 사용자 요청을 받아서 루트부터 TLD까지 모든 단계를 거쳐서 최종 IP를 찾아주는 서버야
> 보통 ISP나 공용 DNS 서버가 이 역할을 해

> 권한 있는 DNS 서버 (Authoritative DNS Server):
> 특정 도메인에 대한 최종 정보를 가지고 있는 서버야
> 도메인 소유자가 관리하는 서버라고 보면 돼

## 실제로는 어떻게 동작하는거야?

예를 들어 naver.com을 입력하면

1. 브라우저가 로컬 DNS 캐시를 먼저 확인해
2. 없으면 운영체제의 DNS 캐시를 확인하고
3. 그것도 없으면 DNS 확인자(예: 8.8.8.8)에게 요청해
4. 확인자가 루트 서버 → TLD 서버 → 권한 있는 네임서버 순으로 조회해서
5. 최종 IP 주소를 받아와서 브라우저에 전달하는거야

이 과정이 보통 밀리초 단위로 빠르게 일어나거든

## DNS가 없으면 어떻게 되는데?

DNS가 없으면 우리가 매번 IP 주소를 직접 입력해야 해

예를 들어 네이버에 접속하려면 112.xxx.xxx.xxx 같은 숫자를 외워서 입력해야 하는거지

도메인 이름을 기억하는게 훨씬 쉬우니까 DNS가 중요한거야

## TTL은 뭐야?

TTL은 Time To Live의 약자야

DNS 캐시에 저장된 정보가 얼마나 오래 유효한지를 나타내는 시간이야

예를 들어 TTL이 3600초(1시간)면
그 도메인 정보는 1시간 동안 캐시에 저장되어 있다가
1시간이 지나면 다시 조회해야 하는거지

TTL이 짧으면 정보가 자주 업데이트되지만 조회가 많아져서 느려질 수 있고
TTL이 길면 조회는 적지만 정보가 오래된 상태로 남아있을 수 있어

## DNS 쿼리 타입은 뭐가 있어?

주로 두 가지 쿼리 타입이 있어

> 재귀적 쿼리 (Recursive Query):
> 클라이언트가 DNS 서버에게 "네가 알아서 다 찾아서 결과만 줘"라고 요청하는거야
> DNS 서버가 모든 단계를 거쳐서 최종 답을 찾아주는거지
> 보통 사용자가 사용하는 방식이야

> 반복적 쿼리 (Iterative Query):
> DNS 서버가 "나는 모르겠는데, 이 서버한테 물어봐"라고 다음 서버 주소만 알려주는거야
> 클라이언트가 직접 여러 서버를 순차적으로 물어봐야 하는거지
> DNS 서버끼리 통신할 때 사용되는 방식이야

## DNS는 보안 문제가 있어?

있어! DNS는 기본적으로 암호화되지 않은 채널로 통신하기 때문에 몇 가지 보안 문제가 있어

> DNS 스푸핑 (DNS Spoofing):
> 악의적인 서버가 가짜 IP 주소를 반환해서 사용자를 잘못된 사이트로 유도하는거야
> 예를 들어 은행 사이트로 가려고 했는데 가짜 사이트로 연결되는거지

> DNS 하이재킹:
> 공격자가 DNS 설정을 변경해서 모든 DNS 요청을 악의적인 서버로 보내는거야

> DNS 캐시 포이즈닝:
> DNS 캐시에 잘못된 정보를 주입해서 사용자들을 잘못된 사이트로 보내는거야

그래서 최근에는 DNS over HTTPS(DoH)나 DNS over TLS(DoT) 같은 암호화된 DNS 프로토콜을 사용하는 추세야

## DNS over HTTPS는 뭐야?

DNS over HTTPS(DoH)는 DNS 쿼리를 HTTPS 프로토콜로 암호화해서 전송하는거야

기존 DNS는 누가 봐도 어떤 사이트에 접속하려는지 알 수 있었거든?
근데 DoH를 사용하면 DNS 요청도 암호화되어서
중간에 누가 가로채도 내용을 볼 수 없게 되는거지

구글 크롬이나 파이어폭스 같은 브라우저들이 이미 지원하고 있어

## DNS 프리페칭은 뭐야?

DNS 프리페칭은 브라우저가 미리 DNS 조회를 해두는 기능이야

예를 들어 네이버 페이지를 보고 있을 때
페이지에 있는 링크들의 도메인을 미리 조회해두는거지

그럼 사용자가 링크를 클릭했을 때
DNS 조회 시간을 기다릴 필요 없이 바로 연결할 수 있어서 더 빨라지는거야

## DNS는 왜 계층 구조로 되어있어?

DNS가 계층 구조로 되어있는 이유는 단순해

만약 모든 도메인 정보를 한 곳에 모아두면
그 서버가 엄청나게 바빠지고
서버가 다운되면 인터넷 전체가 마비되는거지

그래서 루트 → TLD → 도메인 → 서브도메인 이런 식으로
책임을 분산시켜서 관리하는거야

각 레벨이 자신의 영역만 관리하면 되니까
부하도 분산되고 관리도 쉬워지는거지

## 실제로 DNS 문제가 생기면 어떻게 되는데?

DNS에 문제가 생기면 웹사이트에 접속이 안 돼

예를 들어:

- DNS 서버가 다운되면 도메인 이름을 IP로 변환할 수 없어서 접속 불가
- DNS 설정이 잘못되면 잘못된 IP로 연결되거나 아예 연결 안 됨
- DNS 캐시가 오염되면 가짜 사이트로 연결될 수 있어

그래서 보통 여러 개의 DNS 서버를 설정해두는거야
하나가 안 되면 다른 걸로 자동으로 전환되는거지

## 공용 DNS 서버는 뭐가 있어?

주로 사용되는 공용 DNS 서버들이 있어

> 구글 DNS:
> 8.8.8.8, 8.8.4.4
> 빠르고 안정적이야

> 클라우드플레어 DNS:
> 1.1.1.1, 1.0.0.1
> 프라이버시를 중시하고 빠른 속도로 유명해

> 오픈DNS:
> 208.67.222.222, 208.67.220.220
> 보안 기능이 추가되어 있어

이런 공용 DNS를 사용하면
ISP의 DNS보다 빠르거나 더 안전할 수 있어

## DNS는 UDP를 사용하는거야?

기본적으로는 UDP를 사용해

UDP는 빠르고 가볍기 때문에
DNS 조회 같은 작은 요청-응답에는 UDP가 적합하거든

근데 응답이 너무 크면(512바이트 이상) TCP로 전환되기도 해
또한 DNS over HTTPS나 DNS over TLS는 TCP 기반이야

## DNS 조회는 정말 빠른거야?

보통은 밀리초 단위로 빠르게 처리돼

캐시에 있으면 1ms 이하로 응답하고
캐시에 없어도 보통 50~200ms 정도면 응답해

근데 DNS 서버가 멀리 있거나
네트워크가 느리면 더 오래 걸릴 수 있어

그래서 DNS 성능 최적화가 중요한거지
